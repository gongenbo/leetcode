<!-- GFM-TOC -->
46. 全排列（中等）
- 20241118 not ac
- 
```java

```
51. N皇后（困难）
- 20241118 not ac
- 20250824 not ac
```java
class Solution {
    List<List<String>> res;
    public List<List<String>> solveNQueens(int n) {
        res = new ArrayList<>();
        List<String> board = new ArrayList<>();
        backtrack(board, 0);
        return res;
    }
    public void backtrack(List<String> board, int row){
        if(board.size() == row){
            res.add(board);
            return;
        }
        for(int i = 0;i<row;i++){
            if(!isValid(board, i, row)){
                continue;
            }
            board.add("Q");
            backtrack(board, row+1);
            board.remove(board.size()-1);
            board.add(".");
        }
    }
    public boolean isValid(List<String> board, int col, int row){
        // 检查同一列
        for(int i = 0; i < row;i++){
            if("Q".equals(res.get(i).get(col))){
                return false;
            }
        }
        // 检查左上角
        for(int i =col-1,j=row-1;i>=0&&j>=0;i--,j--){
            if("Q".equals(res.get(i).get(j))) return false;
        }
        // 检查右上角
        for(int i =col+1,j=row-1;i<board.size()&&j>=0;i++,j--){
            if("Q".equals(res.get(i).get(j))) return false;
        }
        return true;
    }
}
```
<!-- GFM-TOC -->
